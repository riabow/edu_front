{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Main","description":"Проверка Соединения","operationId":"main__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/resetpassword/{email}":{"get":{"summary":"Resetpassword","description":"отправить письмо для смены пароля","operationId":"resetpassword_api_resetpassword__email__get","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/changepassword/{secret_str}":{"get":{"summary":"Changepassword","description":"показать форму смены пароля","operationId":"changepassword_api_changepassword__secret_str__get","parameters":[{"name":"secret_str","in":"path","required":true,"schema":{"type":"string","title":"Secret Str"}}],"responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chpwd/":{"post":{"summary":"Chpwd","description":"изменение пароля","operationId":"chpwd_api_chpwd__post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_chpwd_api_chpwd__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/update_image_list/{item_id}":{"get":{"summary":"Update Image List","description":"актуализация списка картинок","operationId":"update_image_list_api_update_image_list__item_id__get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/token":{"post":{"summary":"Login For Access Token","description":"Получить токен для работы","operationId":"login_for_access_token_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/":{"get":{"summary":"Read Users Me","description":"Получить инфо о текущем пользователе","operationId":"read_users_me_users_me__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/get_all_my_items/":{"get":{"summary":"Get All My Items","description":"Получить все объявления пользователя","operationId":"get_all_my_items_api_get_all_my_items__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/get_my_item/{item_id}":{"get":{"summary":"Get My Item","description":"Получить свое объявление","operationId":"get_my_item_api_get_my_item__item_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/get_item/{item_id}":{"get":{"summary":"Get Item","description":"Получить объявление для просмотра","operationId":"get_item_api_get_item__item_id__get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/del_my_item/{id}":{"delete":{"summary":"Del My Item","description":"Удалить объявление","operationId":"del_my_item_api_del_my_item__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item_id","in":"query","required":true,"schema":{"type":"integer","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/moderate_item/{id}":{"put":{"summary":"Moderate Item","description":"Поставить флаг к модерации","operationId":"moderate_item_api_moderate_item__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item_id","in":"query","required":true,"schema":{"type":"integer","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sity_search/":{"get":{"summary":"Sity All","description":"поиск города","operationId":"sity_all_api_sity_search__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/sity_search/{srch}":{"get":{"summary":"Sity Search","description":"Поиск города по строке","operationId":"sity_search_api_sity_search__srch__get","parameters":[{"name":"srch","in":"path","required":true,"schema":{"type":"string","title":"Srch"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/category_search/":{"get":{"summary":"Category All","description":"Получить все категории","operationId":"category_all_api_category_search__get","parameters":[{"name":"srch","in":"query","required":false,"schema":{"type":"string","title":"Srch"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/itemtype/":{"get":{"summary":"Itemtype All","description":"типы объявлений (куплю, продам, сдам, сниму и тд)","operationId":"itemtype_all_api_itemtype__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/get_new_item_id/":{"post":{"summary":"Get New Item Id","description":"Полуить ИД для нового объявления","operationId":"get_new_item_id_api_get_new_item_id__post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/edit_item/":{"post":{"summary":"Edit Item","description":"Запись изменений в объявление","operationId":"edit_item_api_edit_item__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Item_edit"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/category_search/{srch}":{"get":{"summary":"Category Search","description":"Поиск категорий","operationId":"category_search_api_category_search__srch__get","parameters":[{"name":"srch","in":"path","required":true,"schema":{"type":"string","title":"Srch"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/register_new_user":{"post":{"summary":"Register New User","description":"добавить пользователя","operationId":"register_new_user_api_register_new_user_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/New_user"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/search_item":{"post":{"summary":"Search Item","description":"поиск объявлений","operationId":"search_item_api_search_item_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Search_item"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/get_item_files/{item_id}":{"get":{"summary":"Get Item Files","description":"Получить картинки объявления","operationId":"get_item_files_api_get_item_files__item_id__get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/get_img/{usr_id}/{item_id}/{bs}/{img}":{"get":{"summary":"Get Img","description":"Получить картинку Большую/ маленькую (b/s)","operationId":"get_img_api_get_img__usr_id___item_id___bs___img__get","parameters":[{"name":"usr_id","in":"path","required":true,"schema":{"type":"integer","title":"Usr Id"}},{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}},{"name":"bs","in":"path","required":true,"schema":{"type":"string","title":"Bs"}},{"name":"img","in":"path","required":true,"schema":{"type":"string","title":"Img"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/delete_img/{user_id}/{item_id}/{bs}/{img}":{"delete":{"summary":"Delete Img","description":"Удалить картинку","operationId":"delete_img_api_delete_img__user_id___item_id___bs___img__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}},{"name":"bs","in":"path","required":true,"schema":{"type":"string","title":"Bs"}},{"name":"img","in":"path","required":true,"schema":{"type":"string","title":"Img"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/upload":{"post":{"summary":"Upload","description":"Загрузка картинок","operationId":"upload_api_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_api_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"Body_chpwd_api_chpwd__post":{"properties":{"newpassword":{"type":"string","title":"Newpassword"},"newpassword2":{"type":"string","title":"Newpassword2"},"secret_str":{"type":"string","title":"Secret Str"}},"type":"object","required":["newpassword","newpassword2","secret_str"],"title":"Body_chpwd_api_chpwd__post"},"Body_login_for_access_token_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_token_post"},"Body_upload_api_upload_post":{"properties":{"item_id":{"type":"integer","title":"Item Id"},"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["item_id","file"],"title":"Body_upload_api_upload_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Item_edit":{"properties":{"id":{"type":"integer","title":"Id"},"city_id":{"type":"integer","title":"City Id"},"itemtype_id":{"type":"integer","title":"Itemtype Id"},"category_id":{"type":"integer","title":"Category Id"},"title":{"type":"string","title":"Title"},"descr":{"type":"string","title":"Descr"},"contacts":{"type":"string","title":"Contacts"},"price":{"type":"integer","title":"Price"},"price_for":{"type":"string","title":"Price For"},"images_list":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Images List"},"geo_lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Geo Lat"},"geo_lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Geo Lon"}},"type":"object","required":["id","city_id","itemtype_id","category_id","title","descr","contacts","price","price_for"],"title":"Item_edit"},"New_user":{"properties":{"name":{"type":"string","title":"Name"},"fullname":{"type":"string","title":"Fullname"},"password_str":{"type":"string","title":"Password Str"},"email":{"type":"string","title":"Email"},"phone":{"type":"string","title":"Phone"},"descr":{"type":"string","title":"Descr"}},"type":"object","title":"New_user"},"Search_item":{"properties":{"srch":{"type":"string","title":"Srch"},"city_id":{"type":"integer","title":"City Id"},"itemtype_id":{"type":"integer","title":"Itemtype Id"},"category_id":{"type":"integer","title":"Category Id"},"price_max":{"type":"integer","title":"Price Max"},"price_min":{"type":"integer","title":"Price Min"},"page":{"type":"integer","title":"Page","default":1},"items_per_page":{"type":"integer","title":"Items Per Page","default":20}},"type":"object","title":"Search_item"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"Token"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"token"}}}}}}